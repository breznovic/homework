{"ast":null,"code":"import _slicedToArray from\"/home/breznovic/React/homework/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import s2 from\"../../s1-main/App.module.css\";import s from\"./HW13.module.css\";import SuperButton from\"../hw04/common/c2-SuperButton/SuperButton\";import axios from\"axios\";import success200 from\"./images/200.svg\";import error400 from\"./images/400.svg\";import error500 from\"./images/500.svg\";import errorUnknown from\"./images/error.svg\";/*\n * 1 - дописать функцию send\n * 2 - дизэйблить кнопки пока идёт запрос\n * 3 - сделать стили в соответствии с дизайном\n * */import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var HW13=function HW13(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),code=_useState2[0],setCode=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),text=_useState4[0],setText=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),info=_useState6[0],setInfo=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),image=_useState8[0],setImage=_useState8[1];var send=function send(x){return function(){var url=x===null?\"https://xxxxxx.ccc\"// имитация запроса на не корректный адрес\n:\"https://samurai.it-incubator.io/api/3.0/homework/test\";setCode(\"\");setImage(\"\");setText(\"\");setInfo(\"...loading\");axios.post(url,{success:x}).then(function(res){setCode(\"Код 200!\");setImage(success200);setText(\"...всё ок)\");setInfo(\"код 200 - обычно означает что скорее всего всё ок)\");// дописать\n}).catch(function(e){// дописать\nconsole.log(e);if(e.request.status===500){setCode(\"Ошибка 500!\");setText(\"эмитация ошибки на сервере\");setImage(error500);setInfo(\"ошибка 500 - обычно означает что что-то сломалось на сервере, например база данных)\");}else if(e.request.status===400){setCode(\"Ошибка 400!\");setText(\"Ты не отправил success в body вообще!\");setImage(error400);setInfo(\"ошибка 400 - обычно означает что скорее всего фронт отправил что-то не то на бэк!\");}else{setCode(\"Error!\");setText(\"Network Error\");setImage(errorUnknown);setInfo(\"AxiosError\");}});};};return/*#__PURE__*/_jsxs(\"section\",{className:s2.section,id:\"hw13\",children:[/*#__PURE__*/_jsx(\"div\",{className:s2.container,children:/*#__PURE__*/_jsx(\"h2\",{className:s2.hwTitle,children:\"Homework #13\"})}),/*#__PURE__*/_jsx(\"div\",{className:s2.wrapper,children:/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(s2.hw,\" \").concat(s2.container),children:[/*#__PURE__*/_jsxs(\"div\",{className:s.buttonsContainer,children:[/*#__PURE__*/_jsx(SuperButton,{className:s.button,id:\"hw13-send-true\",onClick:send(true),xType:\"secondary\",disabled:info===\"...loading\"// дописать\n,children:\"Send true\"}),/*#__PURE__*/_jsx(SuperButton,{className:s.button,id:\"hw13-send-false\",onClick:send(false),xType:\"secondary\",disabled:info===\"...loading\"// дописать\n,children:\"Send false\"}),/*#__PURE__*/_jsx(SuperButton,{className:s.button,id:\"hw13-send-undefined\",onClick:send(undefined),xType:\"secondary\",disabled:info===\"...loading\"// дописать\n,children:\"Send undefined\"}),/*#__PURE__*/_jsx(SuperButton,{className:s.button,id:\"hw13-send-null\",onClick:send(null)// имитация запроса на не корректный адрес\n,xType:\"secondary\",disabled:info===\"...loading\"// дописать\n,children:\"Send null\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:s.responseContainer,children:[/*#__PURE__*/_jsx(\"div\",{className:s.imageContainer,children:image&&/*#__PURE__*/_jsx(\"img\",{src:image,className:s.image,alt:\"status\"})}),/*#__PURE__*/_jsxs(\"div\",{className:s.textContainer,children:[/*#__PURE__*/_jsx(\"h3\",{id:\"hw13-code\",className:s.code,children:code}),/*#__PURE__*/_jsx(\"div\",{id:\"hw13-text\",className:s.text,children:text}),/*#__PURE__*/_jsx(\"div\",{id:\"hw13-info\",className:s.info,children:info})]})]})]})})]});};export default HW13;","map":{"version":3,"names":["useState","s2","s","SuperButton","axios","success200","error400","error500","errorUnknown","HW13","code","setCode","text","setText","info","setInfo","image","setImage","send","x","url","post","success","then","res","catch","e","console","log","request","status","section","container","hwTitle","wrapper","hw","buttonsContainer","button","undefined","responseContainer","imageContainer","textContainer"],"sources":["/home/breznovic/React/homework/src/s2-homeworks/hw13/HW13.tsx"],"sourcesContent":["import { useState } from \"react\";\nimport s2 from \"../../s1-main/App.module.css\";\nimport s from \"./HW13.module.css\";\nimport SuperButton from \"../hw04/common/c2-SuperButton/SuperButton\";\nimport axios from \"axios\";\nimport success200 from \"./images/200.svg\";\nimport error400 from \"./images/400.svg\";\nimport error500 from \"./images/500.svg\";\nimport errorUnknown from \"./images/error.svg\";\n\n/*\n * 1 - дописать функцию send\n * 2 - дизэйблить кнопки пока идёт запрос\n * 3 - сделать стили в соответствии с дизайном\n * */\n\nconst HW13 = () => {\n  const [code, setCode] = useState(\"\");\n  const [text, setText] = useState(\"\");\n  const [info, setInfo] = useState(\"\");\n  const [image, setImage] = useState(\"\");\n\n  const send = (x?: boolean | null) => () => {\n    const url =\n      x === null\n        ? \"https://xxxxxx.ccc\" // имитация запроса на не корректный адрес\n        : \"https://samurai.it-incubator.io/api/3.0/homework/test\";\n\n    setCode(\"\");\n    setImage(\"\");\n    setText(\"\");\n    setInfo(\"...loading\");\n\n    axios\n      .post(url, { success: x })\n      .then((res) => {\n        setCode(\"Код 200!\");\n        setImage(success200);\n        setText(\"...всё ок)\");\n        setInfo(\"код 200 - обычно означает что скорее всего всё ок)\");\n        // дописать\n      })\n      .catch((e) => {\n        // дописать\n        console.log(e);\n        if (e.request.status === 500) {\n          setCode(\"Ошибка 500!\");\n          setText(\"эмитация ошибки на сервере\");\n          setImage(error500);\n          setInfo(\n            \"ошибка 500 - обычно означает что что-то сломалось на сервере, например база данных)\"\n          );\n        } else if (e.request.status === 400) {\n          setCode(\"Ошибка 400!\");\n          setText(\"Ты не отправил success в body вообще!\");\n          setImage(error400);\n          setInfo(\n            \"ошибка 400 - обычно означает что скорее всего фронт отправил что-то не то на бэк!\"\n          );\n        } else {\n          setCode(\"Error!\");\n          setText(\"Network Error\");\n          setImage(errorUnknown);\n          setInfo(\"AxiosError\");\n        }\n      });\n  };\n\n  return (\n    <section className={s2.section} id={\"hw13\"}>\n      <div className={s2.container}>\n        <h2 className={s2.hwTitle}>Homework #13</h2>\n      </div>\n\n      <div className={s2.wrapper}>\n        <div className={`${s2.hw} ${s2.container}`}>\n          <div className={s.buttonsContainer}>\n            <SuperButton\n              className={s.button}\n              id={\"hw13-send-true\"}\n              onClick={send(true)}\n              xType={\"secondary\"}\n              disabled={info === \"...loading\"}\n              // дописать\n            >\n              Send true\n            </SuperButton>\n            <SuperButton\n              className={s.button}\n              id={\"hw13-send-false\"}\n              onClick={send(false)}\n              xType={\"secondary\"}\n              disabled={info === \"...loading\"}\n              // дописать\n            >\n              Send false\n            </SuperButton>\n            <SuperButton\n              className={s.button}\n              id={\"hw13-send-undefined\"}\n              onClick={send(undefined)}\n              xType={\"secondary\"}\n              disabled={info === \"...loading\"}\n              // дописать\n            >\n              Send undefined\n            </SuperButton>\n            <SuperButton\n              className={s.button}\n              id={\"hw13-send-null\"}\n              onClick={send(null)} // имитация запроса на не корректный адрес\n              xType={\"secondary\"}\n              disabled={info === \"...loading\"}\n              // дописать\n            >\n              Send null\n            </SuperButton>\n          </div>\n\n          <div className={s.responseContainer}>\n            <div className={s.imageContainer}>\n              {image && <img src={image} className={s.image} alt=\"status\" />}\n            </div>\n\n            <div className={s.textContainer}>\n              <h3 id={\"hw13-code\"} className={s.code}>\n                {code}\n              </h3>\n              <div id={\"hw13-text\"} className={s.text}>\n                {text}\n              </div>\n              <div id={\"hw13-info\"} className={s.info}>\n                {info}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n  );\n};\n\nexport default HW13;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}