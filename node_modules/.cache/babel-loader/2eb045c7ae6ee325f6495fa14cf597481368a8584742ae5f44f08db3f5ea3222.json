{"ast":null,"code":"import _slicedToArray from\"/home/breznovic/React/homework/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import Greeting from\"./Greeting\";import{jsx as _jsx}from\"react/jsx-runtime\";export var pureAddUser=function pureAddUser(name,setError,setName,addUserCallback){if(name.trim()===\"\"){setError(\"Ошибка! Введите имя!\");}else{addUserCallback(name);setName(\"\");}};export var pureOnBlur=function pureOnBlur(name,setError){if(name.trim()===\"\"){setError(\"Ошибка! Введите имя!\");}};export var pureOnEnter=function pureOnEnter(e,addUser){if(e.key===\"Enter\"){addUser();}};// более простой и понятный для новичков\n// function GreetingContainer(props: GreetingPropsType) {\n// более современный и удобный для про :)\nvar GreetingContainer=function GreetingContainer(_ref){var users=_ref.users,addUserCallback=_ref.addUserCallback;// деструктуризация пропсов\nvar _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var setNameCallback=function setNameCallback(e){setName(e.currentTarget.value);error&&setError(\"\");};var addUser=function addUser(){pureAddUser(name,setError,setName,addUserCallback);};var onBlur=function onBlur(){pureOnBlur(name,setError);};var onEnter=function onEnter(e){pureOnEnter(e,addUser);};var totalUsers=users.length;var lastUserName=users[users.length-1]?users[users.length-1].name:\"\";return/*#__PURE__*/_jsx(Greeting,{name:name,setNameCallback:setNameCallback,addUser:addUser,onBlur:onBlur,onEnter:onEnter,error:error,totalUsers:totalUsers,lastUserName:lastUserName});};export default GreetingContainer;","map":{"version":3,"names":["React","useState","Greeting","pureAddUser","name","setError","setName","addUserCallback","trim","pureOnBlur","pureOnEnter","e","addUser","key","GreetingContainer","users","error","setNameCallback","currentTarget","value","onBlur","onEnter","totalUsers","length","lastUserName"],"sources":["/home/breznovic/React/homework/src/s2-homeworks/hw03/GreetingContainer.tsx"],"sourcesContent":["import React, {\n  ChangeEvent,\n  Dispatch,\n  KeyboardEvent,\n  SetStateAction,\n  useState,\n} from \"react\";\nimport Greeting from \"./Greeting\";\nimport { UserType } from \"./HW3\";\n\ntype GreetingContainerPropsType = {\n  users: UserType[];\n  addUserCallback: (name: string) => void;\n};\n\nexport const pureAddUser = (\n  name: string,\n  setError: (error: string) => void,\n  setName: (name: string) => void,\n  addUserCallback: (name: string) => void\n) => {\n  if (name.trim() === \"\") {\n    setError(\"Ошибка! Введите имя!\");\n  } else {\n    addUserCallback(name);\n    setName(\"\");\n  }\n};\n\nexport const pureOnBlur = (name: string, setError: (error: string) => void) => {\n  if (name.trim() === \"\") {\n    setError(\"Ошибка! Введите имя!\");\n  }\n};\n\nexport const pureOnEnter = (e: KeyboardEvent, addUser: () => void) => {\n  if (e.key === \"Enter\") {\n    addUser();\n  }\n};\n\n// более простой и понятный для новичков\n// function GreetingContainer(props: GreetingPropsType) {\n\n// более современный и удобный для про :)\nconst GreetingContainer: React.FC<GreetingContainerPropsType> = ({\n  users,\n  addUserCallback,\n}) => {\n  // деструктуризация пропсов\n  const [name, setName] = useState<string>(\"\");\n  const [error, setError] = useState<string>(\"\");\n\n  const setNameCallback = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setName(e.currentTarget.value);\n    error && setError(\"\");\n  };\n\n  const addUser = () => {\n    pureAddUser(name, setError, setName, addUserCallback);\n  };\n\n  const onBlur = () => {\n    pureOnBlur(name, setError);\n  };\n\n  const onEnter = (e: KeyboardEvent<Element>) => {\n    pureOnEnter(e, addUser);\n  };\n\n  const totalUsers = users.length;\n  const lastUserName = users[users.length - 1]\n    ? users[users.length - 1].name\n    : \"\";\n\n  return (\n    <Greeting\n      name={name}\n      setNameCallback={setNameCallback}\n      addUser={addUser}\n      onBlur={onBlur}\n      onEnter={onEnter}\n      error={error}\n      totalUsers={totalUsers}\n      lastUserName={lastUserName}\n    />\n  );\n};\n\nexport default GreetingContainer;\n"],"mappings":"oHAAA,MAAOA,MAAK,EAKVC,QAAQ,KACH,OAAO,CACd,MAAOC,SAAQ,KAAM,YAAY,CAAC,2CAQlC,MAAO,IAAMC,YAAW,CAAG,QAAdA,YAAW,CACtBC,IAAY,CACZC,QAAiC,CACjCC,OAA+B,CAC/BC,eAAuC,CACpC,CACH,GAAIH,IAAI,CAACI,IAAI,EAAE,GAAK,EAAE,CAAE,CACtBH,QAAQ,CAAC,sBAAsB,CAAC,CAClC,CAAC,IAAM,CACLE,eAAe,CAACH,IAAI,CAAC,CACrBE,OAAO,CAAC,EAAE,CAAC,CACb,CACF,CAAC,CAED,MAAO,IAAMG,WAAU,CAAG,QAAbA,WAAU,CAAIL,IAAY,CAAEC,QAAiC,CAAK,CAC7E,GAAID,IAAI,CAACI,IAAI,EAAE,GAAK,EAAE,CAAE,CACtBH,QAAQ,CAAC,sBAAsB,CAAC,CAClC,CACF,CAAC,CAED,MAAO,IAAMK,YAAW,CAAG,QAAdA,YAAW,CAAIC,CAAgB,CAAEC,OAAmB,CAAK,CACpE,GAAID,CAAC,CAACE,GAAG,GAAK,OAAO,CAAE,CACrBD,OAAO,EAAE,CACX,CACF,CAAC,CAED;AACA;AAEA;AACA,GAAME,kBAAuD,CAAG,QAA1DA,kBAAuD,MAGvD,IAFJC,MAAK,MAALA,KAAK,CACLR,eAAe,MAAfA,eAAe,CAEf;AACA,cAAwBN,QAAQ,CAAS,EAAE,CAAC,wCAArCG,IAAI,eAAEE,OAAO,eACpB,eAA0BL,QAAQ,CAAS,EAAE,CAAC,yCAAvCe,KAAK,eAAEX,QAAQ,eAEtB,GAAMY,gBAAe,CAAG,QAAlBA,gBAAe,CAAIN,CAAsC,CAAK,CAClEL,OAAO,CAACK,CAAC,CAACO,aAAa,CAACC,KAAK,CAAC,CAC9BH,KAAK,EAAIX,QAAQ,CAAC,EAAE,CAAC,CACvB,CAAC,CAED,GAAMO,QAAO,CAAG,QAAVA,QAAO,EAAS,CACpBT,WAAW,CAACC,IAAI,CAAEC,QAAQ,CAAEC,OAAO,CAAEC,eAAe,CAAC,CACvD,CAAC,CAED,GAAMa,OAAM,CAAG,QAATA,OAAM,EAAS,CACnBX,UAAU,CAACL,IAAI,CAAEC,QAAQ,CAAC,CAC5B,CAAC,CAED,GAAMgB,QAAO,CAAG,QAAVA,QAAO,CAAIV,CAAyB,CAAK,CAC7CD,WAAW,CAACC,CAAC,CAAEC,OAAO,CAAC,CACzB,CAAC,CAED,GAAMU,WAAU,CAAGP,KAAK,CAACQ,MAAM,CAC/B,GAAMC,aAAY,CAAGT,KAAK,CAACA,KAAK,CAACQ,MAAM,CAAG,CAAC,CAAC,CACxCR,KAAK,CAACA,KAAK,CAACQ,MAAM,CAAG,CAAC,CAAC,CAACnB,IAAI,CAC5B,EAAE,CAEN,mBACE,KAAC,QAAQ,EACP,IAAI,CAAEA,IAAK,CACX,eAAe,CAAEa,eAAgB,CACjC,OAAO,CAAEL,OAAQ,CACjB,MAAM,CAAEQ,MAAO,CACf,OAAO,CAAEC,OAAQ,CACjB,KAAK,CAAEL,KAAM,CACb,UAAU,CAAEM,UAAW,CACvB,YAAY,CAAEE,YAAa,EAC3B,CAEN,CAAC,CAED,cAAeV,kBAAiB"},"metadata":{},"sourceType":"module","externalDependencies":[]}