{"ast":null,"code":"import _objectSpread from\"/home/breznovic/React/homework/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/breznovic/React/homework/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectWithoutProperties from\"/home/breznovic/React/homework/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";var _excluded=[\"onChangeText\",\"onDebouncedChange\"];import React,{useState}from\"react\";import SuperInputText from\"../../../hw04/common/c1-SuperInputText/SuperInputText\";// тип пропсов обычного инпута\nimport{jsx as _jsx}from\"react/jsx-runtime\";var SuperDebouncedInput=function SuperDebouncedInput(_ref){var onChangeText=_ref.onChangeText,onDebouncedChange=_ref.onDebouncedChange,restProps=_objectWithoutProperties(_ref,_excluded);var _useState=useState(undefined),_useState2=_slicedToArray(_useState,2),timerId=_useState2[0],setTimerId=_useState2[1];var onChangeTextCallback=function onChangeTextCallback(value){onChangeText===null||onChangeText===void 0?void 0:onChangeText(value);if(onDebouncedChange){// делает студент\n// остановить предыдущий таймер\nclearTimeout(timerId);// запустить новый на 1500ms, в котором вызовется функция\nvar newTimerId=window.setTimeout(function(){onDebouncedChange(value);},1500);setTimerId(newTimerId);}};return/*#__PURE__*/_jsx(SuperInputText,_objectSpread({onChangeText:onChangeTextCallback},restProps));};export default SuperDebouncedInput;","map":{"version":3,"names":["React","useState","SuperInputText","SuperDebouncedInput","onChangeText","onDebouncedChange","restProps","undefined","timerId","setTimerId","onChangeTextCallback","value","clearTimeout","newTimerId","window","setTimeout"],"sources":["/home/breznovic/React/homework/src/s2-homeworks/hw14/common/c8-SuperDebouncedInput/SuperDebouncedInput.tsx"],"sourcesContent":["import React, {\n  DetailedHTMLProps,\n  InputHTMLAttributes,\n  ReactNode,\n  useState,\n} from \"react\";\nimport SuperInputText from \"../../../hw04/common/c1-SuperInputText/SuperInputText\";\n\n// тип пропсов обычного инпута\ntype DefaultInputPropsType = DetailedHTMLProps<\n  InputHTMLAttributes<HTMLInputElement>,\n  HTMLInputElement\n>;\n\nexport type SuperDebouncedInputPropsType = Omit<\n  DefaultInputPropsType,\n  \"type\"\n> & {\n  onChangeText?: (value: string) => void;\n  onEnter?: () => void;\n  error?: ReactNode;\n  spanClassName?: string;\n} & {\n  onDebouncedChange?: (value: string) => void;\n};\n\nconst SuperDebouncedInput: React.FC<SuperDebouncedInputPropsType> = ({\n  onChangeText,\n  onDebouncedChange,\n\n  ...restProps // все остальные пропсы попадут в объект restProps\n}) => {\n  const [timerId, setTimerId] = useState<number | undefined>(undefined);\n\n  const onChangeTextCallback = (value: string) => {\n    onChangeText?.(value);\n\n    if (onDebouncedChange) {\n      // делает студент\n\n      // остановить предыдущий таймер\n      clearTimeout(timerId);\n      // запустить новый на 1500ms, в котором вызовется функция\n\n      const newTimerId = window.setTimeout(() => {\n        onDebouncedChange(value);\n      }, 1500);\n\n      setTimerId(newTimerId);\n    }\n  };\n\n  return <SuperInputText onChangeText={onChangeTextCallback} {...restProps} />;\n};\n\nexport default SuperDebouncedInput;\n"],"mappings":"kaAAA,MAAOA,MAAK,EAIVC,QAAQ,KACH,OAAO,CACd,MAAOC,eAAc,KAAM,uDAAuD,CAElF;AAAA,2CAkBA,GAAMC,oBAA2D,CAAG,QAA9DA,oBAA2D,MAK3D,IAJJC,aAAY,MAAZA,YAAY,CACZC,iBAAiB,MAAjBA,iBAAiB,CAEdC,SAAS,0CAEZ,cAA8BL,QAAQ,CAAqBM,SAAS,CAAC,wCAA9DC,OAAO,eAAEC,UAAU,eAE1B,GAAMC,qBAAoB,CAAG,QAAvBA,qBAAoB,CAAIC,KAAa,CAAK,CAC9CP,YAAY,SAAZA,YAAY,iBAAZA,YAAY,CAAGO,KAAK,CAAC,CAErB,GAAIN,iBAAiB,CAAE,CACrB;AAEA;AACAO,YAAY,CAACJ,OAAO,CAAC,CACrB;AAEA,GAAMK,WAAU,CAAGC,MAAM,CAACC,UAAU,CAAC,UAAM,CACzCV,iBAAiB,CAACM,KAAK,CAAC,CAC1B,CAAC,CAAE,IAAI,CAAC,CAERF,UAAU,CAACI,UAAU,CAAC,CACxB,CACF,CAAC,CAED,mBAAO,KAAC,cAAc,gBAAC,YAAY,CAAEH,oBAAqB,EAAKJ,SAAS,EAAI,CAC9E,CAAC,CAED,cAAeH,oBAAmB"},"metadata":{},"sourceType":"module","externalDependencies":[]}