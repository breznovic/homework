{"ast":null,"code":"var _jsxFileName = \"/home/breznovic/React/homework/src/s2-homeworks/hw14/common/c8-SuperDebouncedInput/SuperDebouncedInput.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport SuperInputText from \"../../../hw04/common/c1-SuperInputText/SuperInputText\";\n\n// тип пропсов обычного инпута\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SuperDebouncedInput = _ref => {\n  _s();\n  let {\n    onChangeText,\n    onDebouncedChange,\n    ...restProps // все остальные пропсы попадут в объект restProps\n  } = _ref;\n  const [timerId, setTimerId] = useState(undefined);\n  const onChangeTextCallback = value => {\n    onChangeText === null || onChangeText === void 0 ? void 0 : onChangeText(value);\n    if (onDebouncedChange) {\n      // делает студент\n\n      // остановить предыдущий таймер\n      clearTimeout(timerId);\n      // запустить новый на 1500ms, в котором вызовется функция\n\n      const newTimerId = window.setTimeout(() => {\n        onDebouncedChange(value);\n      }, 1500);\n      setTimerId(newTimerId);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(SuperInputText, {\n    onChangeText: onChangeTextCallback,\n    ...restProps\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 10\n  }, this);\n};\n_s(SuperDebouncedInput, \"yn9+IXVkzq+8+N/DUHUEAxg0Ieg=\");\n_c = SuperDebouncedInput;\nexport default SuperDebouncedInput;\nvar _c;\n$RefreshReg$(_c, \"SuperDebouncedInput\");","map":{"version":3,"names":["React","useState","SuperInputText","SuperDebouncedInput","onChangeText","onDebouncedChange","restProps","timerId","setTimerId","undefined","onChangeTextCallback","value","clearTimeout","newTimerId","window","setTimeout"],"sources":["/home/breznovic/React/homework/src/s2-homeworks/hw14/common/c8-SuperDebouncedInput/SuperDebouncedInput.tsx"],"sourcesContent":["import React, {\n  DetailedHTMLProps,\n  InputHTMLAttributes,\n  ReactNode,\n  useState,\n} from \"react\";\nimport SuperInputText from \"../../../hw04/common/c1-SuperInputText/SuperInputText\";\n\n// тип пропсов обычного инпута\ntype DefaultInputPropsType = DetailedHTMLProps<\n  InputHTMLAttributes<HTMLInputElement>,\n  HTMLInputElement\n>;\n\nexport type SuperDebouncedInputPropsType = Omit<\n  DefaultInputPropsType,\n  \"type\"\n> & {\n  onChangeText?: (value: string) => void;\n  onEnter?: () => void;\n  error?: ReactNode;\n  spanClassName?: string;\n} & {\n  onDebouncedChange?: (value: string) => void;\n};\n\nconst SuperDebouncedInput: React.FC<SuperDebouncedInputPropsType> = ({\n  onChangeText,\n  onDebouncedChange,\n\n  ...restProps // все остальные пропсы попадут в объект restProps\n}) => {\n  const [timerId, setTimerId] = useState<number | undefined>(undefined);\n\n  const onChangeTextCallback = (value: string) => {\n    onChangeText?.(value);\n\n    if (onDebouncedChange) {\n      // делает студент\n\n      // остановить предыдущий таймер\n      clearTimeout(timerId);\n      // запустить новый на 1500ms, в котором вызовется функция\n\n      const newTimerId = window.setTimeout(() => {\n        onDebouncedChange(value);\n      }, 1500);\n\n      setTimerId(newTimerId);\n    }\n  };\n\n  return <SuperInputText onChangeText={onChangeTextCallback} {...restProps} />;\n};\n\nexport default SuperDebouncedInput;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAIVC,QAAQ,QACH,OAAO;AACd,OAAOC,cAAc,MAAM,uDAAuD;;AAElF;AAAA;AAkBA,MAAMC,mBAA2D,GAAG,QAK9D;EAAA;EAAA,IAL+D;IACnEC,YAAY;IACZC,iBAAiB;IAEjB,GAAGC,SAAS,CAAC;EACf,CAAC;EACC,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGP,QAAQ,CAAqBQ,SAAS,CAAC;EAErE,MAAMC,oBAAoB,GAAIC,KAAa,IAAK;IAC9CP,YAAY,aAAZA,YAAY,uBAAZA,YAAY,CAAGO,KAAK,CAAC;IAErB,IAAIN,iBAAiB,EAAE;MACrB;;MAEA;MACAO,YAAY,CAACL,OAAO,CAAC;MACrB;;MAEA,MAAMM,UAAU,GAAGC,MAAM,CAACC,UAAU,CAAC,MAAM;QACzCV,iBAAiB,CAACM,KAAK,CAAC;MAC1B,CAAC,EAAE,IAAI,CAAC;MAERH,UAAU,CAACK,UAAU,CAAC;IACxB;EACF,CAAC;EAED,oBAAO,QAAC,cAAc;IAAC,YAAY,EAAEH,oBAAqB;IAAA,GAAKJ;EAAS;IAAA;IAAA;IAAA;EAAA,QAAI;AAC9E,CAAC;AAAC,GA3BIH,mBAA2D;AAAA,KAA3DA,mBAA2D;AA6BjE,eAAeA,mBAAmB;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}