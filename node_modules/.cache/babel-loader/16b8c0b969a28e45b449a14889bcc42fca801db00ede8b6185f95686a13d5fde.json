{"ast":null,"code":"var _jsxFileName = \"/home/breznovic/React/homework/src/s2-homeworks/hw14/HW14.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport s2 from \"../../s1-main/App.module.css\";\nimport s from \"./HW14.module.css\";\nimport axios from \"axios\";\nimport SuperDebouncedInput from \"./common/c8-SuperDebouncedInput/SuperDebouncedInput\";\nimport { useSearchParams } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst getTechs = find => {\n  return axios.get(\"https://samurai.it-incubator.io/api/3.0/homework/test2\", {\n    params: {\n      find\n    }\n  }).catch(e => {\n    var _e$response, _e$response$data;\n    alert(((_e$response = e.response) === null || _e$response === void 0 ? void 0 : (_e$response$data = _e$response.data) === null || _e$response$data === void 0 ? void 0 : _e$response$data.errorText) || e.message);\n  });\n};\nconst HW14 = () => {\n  _s();\n  const [find, setFind] = useState(\"\");\n  const [isLoading, setLoading] = useState(false);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [techs, setTechs] = useState([]);\n  const sendQuery = value => {\n    setLoading(true);\n    getTechs(value).then(res => {\n      // делает студент\n      if (res) {\n        setTechs(res.data.techs);\n        setLoading(false);\n      }\n      // сохранить пришедшие данные\n      //\n    });\n  };\n\n  const onChangeText = value => {\n    setFind(value);\n    // делает студент\n\n    // добавить/заменить значение в квери урла\n    setSearchParams(value);\n    //\n  };\n\n  useEffect(() => {\n    const params = Object.fromEntries(searchParams);\n    sendQuery(params.find || \"\");\n    setFind(params.find || \"\");\n  }, []);\n  const mappedTechs = techs.map(t => /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"hw14-tech-\" + t,\n    className: s.tech,\n    children: t\n  }, t, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this));\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: s2.section,\n    id: \"hw14\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: s2.container,\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: s2.hwTitle,\n        children: \"Homework #14\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: s2.wrapper,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `${s2.hw} ${s2.container}`,\n        children: [/*#__PURE__*/_jsxDEV(SuperDebouncedInput, {\n          id: \"hw14-super-debounced-input\",\n          value: find,\n          onChangeText: onChangeText,\n          onDebouncedChange: sendQuery\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"hw14-loading\",\n          className: s.loading,\n          children: isLoading ? \"...ищем\" : /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 38\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), mappedTechs]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n};\n_s(HW14, \"c89xmd6k1aXYJR37hmrXbXaZ59A=\", false, function () {\n  return [useSearchParams];\n});\n_c = HW14;\nexport default HW14;\nvar _c;\n$RefreshReg$(_c, \"HW14\");","map":{"version":3,"names":["React","useEffect","useState","s2","s","axios","SuperDebouncedInput","useSearchParams","getTechs","find","get","params","catch","e","alert","response","data","errorText","message","HW14","setFind","isLoading","setLoading","searchParams","setSearchParams","techs","setTechs","sendQuery","value","then","res","onChangeText","Object","fromEntries","mappedTechs","map","t","tech","section","container","hwTitle","wrapper","hw","loading"],"sources":["/home/breznovic/React/homework/src/s2-homeworks/hw14/HW14.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport s2 from \"../../s1-main/App.module.css\";\nimport s from \"./HW14.module.css\";\nimport axios from \"axios\";\nimport SuperDebouncedInput from \"./common/c8-SuperDebouncedInput/SuperDebouncedInput\";\nimport { useSearchParams } from \"react-router-dom\";\n\nconst getTechs = (find: string) => {\n  return axios\n    .get<{ techs: string[] }>(\n      \"https://samurai.it-incubator.io/api/3.0/homework/test2\",\n      { params: { find } }\n    )\n    .catch((e) => {\n      alert(e.response?.data?.errorText || e.message);\n    });\n};\n\nconst HW14 = () => {\n  const [find, setFind] = useState(\"\");\n  const [isLoading, setLoading] = useState(false);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [techs, setTechs] = useState<string[]>([]);\n\n  const sendQuery = (value: string) => {\n    setLoading(true);\n    getTechs(value).then((res) => {\n      // делает студент\n      if (res) {\n        setTechs(res.data.techs);\n        setLoading(false);\n      }\n      // сохранить пришедшие данные\n      //\n    });\n  };\n\n  const onChangeText = (value: string) => {\n    setFind(value);\n    // делает студент\n\n    // добавить/заменить значение в квери урла\n    setSearchParams(value);\n    //\n  };\n\n  useEffect(() => {\n    const params = Object.fromEntries(searchParams);\n    sendQuery(params.find || \"\");\n    setFind(params.find || \"\");\n  }, []);\n\n  const mappedTechs = techs.map((t) => (\n    <div key={t} id={\"hw14-tech-\" + t} className={s.tech}>\n      {t}\n    </div>\n  ));\n\n  return (\n    <section className={s2.section} id={\"hw14\"}>\n      <div className={s2.container}>\n        <h2 className={s2.hwTitle}>Homework #14</h2>\n      </div>\n\n      <div className={s2.wrapper}>\n        <div className={`${s2.hw} ${s2.container}`}>\n          <SuperDebouncedInput\n            id={\"hw14-super-debounced-input\"}\n            value={find}\n            onChangeText={onChangeText}\n            onDebouncedChange={sendQuery}\n          />\n\n          <div id={\"hw14-loading\"} className={s.loading}>\n            {isLoading ? \"...ищем\" : <br />}\n          </div>\n          {mappedTechs}\n        </div>\n      </div>\n    </section>\n  );\n};\n\nexport default HW14;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}